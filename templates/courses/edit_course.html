<!-- templates/courses/edit_course.html -->

{% extends 'base.html' %}

{% block title %}Edit Course - {{ course.title }} - Course Platform{% endblock %}

{% block content %}
    <div class="container mt-4 form-edit">
        <h2>Редактировать курс</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group mb-3">
                {{ form.title.label_tag }}
                {{ form.title }}
                {% if form.title.errors %}
                    <div class="text-danger">{{ form.title.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group mb-3">
                {{ form.description.label_tag }}
                {{ form.description }}
                {% if form.description.errors %}
                    <div class="text-danger">{{ form.description.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group mb-3">
                {{ form.author.label_tag }}
                {{ form.author }}
                {% if form.author.errors %}
                    <div class="text-danger">{{ form.author.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group mb-3">
                {{ form.category.label_tag }}
                {{ form.category }}
                {% if form.category.errors %}
                    <div class="text-danger">{{ form.category.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group mb-3">
                {{ form.date_start.label_tag }}
                {{ form.date_start }}
                {% if form.date_start.errors %}
                    <div class="text-danger">{{ form.date_start.errors }}</div>
                {% endif %}
            </div>
            <div class="form-group mb-3">
                {{ form.date_stop.label_tag }}
                {{ form.date_stop }}
                {% if form.date_stop.errors %}
                    <div class="text-danger">{{ form.date_stop.errors }}</div>
                {% endif %}
            </div>   
            <div class="form-group mb-3">
                {{ form.is_hidden.label_tag }}
                {{ form.is_hidden }}
                {% if form.is_hidden.errors %}
                    <div class="text-danger">{{ form.is_hidden.errors }}</div>
                {% endif %}
            </div>                                              
            <button type="submit" class="btn btn-success">Сохранить изменения</button>
        </form>
    </div>
{% endblock %}


{% block scripts %}
    <script>
        $(document).ready(function(){
            $("#id_date_start").datepicker({
                dateFormat: "yy-mm-dd",
                changeMonth: true,
                changeYear: true,
                showButtonPanel: true
            });
            $("#id_date_stop").datepicker({
                dateFormat: "yy-mm-dd",
                changeMonth: true,
                changeYear: true,
                showButtonPanel: true
            });
        });
    </script>
{% endblock %}
